{
  "schema_version": "v1",
  "bead": "bd-7ef9",
  "description": "Current glibc callthrough census from support_matrix plus dependency-aware decommission sequencing.",
  "source": {
    "support_matrix_path": "support_matrix.json",
    "support_matrix_sha256": "2324aa1931efbd4114e7b3789d7c96343f788714ac16c6db1f9b9728c45eba04",
    "total_exported": 250,
    "status_summary_callthrough": 35,
    "derived_callthrough_symbols": 30,
    "summary_delta": 5
  },
  "ranking_policy": {
    "runtime_impact_weights": {
      "strict_hotpath": 5,
      "hardened_hotpath": 3,
      "coldpath": 1
    },
    "replacement_complexity_weights": {
      "low": 1,
      "medium": 2,
      "high": 3
    },
    "priority_formula": "priority_score = runtime_impact_weight(perf_class)*100 - replacement_complexity_weight*10"
  },
  "module_census": [
    {
      "module": "pthread_abi",
      "count": 10,
      "strict_hotpath_count": 10,
      "hardened_hotpath_count": 0,
      "coldpath_count": 0,
      "runtime_impact_weight": 50,
      "avg_complexity_weight": 2.1,
      "complexity_mix": {
        "low": 2,
        "medium": 5,
        "high": 3
      },
      "runtime_impact_rank": 1
    },
    {
      "module": "stdio_abi",
      "count": 16,
      "strict_hotpath_count": 0,
      "hardened_hotpath_count": 0,
      "coldpath_count": 16,
      "runtime_impact_weight": 16,
      "avg_complexity_weight": 3.0,
      "complexity_mix": {
        "low": 0,
        "medium": 0,
        "high": 16
      },
      "runtime_impact_rank": 2
    },
    {
      "module": "dlfcn_abi",
      "count": 4,
      "strict_hotpath_count": 0,
      "hardened_hotpath_count": 0,
      "coldpath_count": 4,
      "runtime_impact_weight": 4,
      "avg_complexity_weight": 2.0,
      "complexity_mix": {
        "low": 0,
        "medium": 4,
        "high": 0
      },
      "runtime_impact_rank": 3
    }
  ],
  "symbol_census": [
    {
      "symbol": "pthread_equal",
      "module": "pthread_abi",
      "perf_class": "strict_hotpath",
      "runtime_impact": "high",
      "replacement_complexity": "low",
      "priority_score": 490
    },
    {
      "symbol": "pthread_self",
      "module": "pthread_abi",
      "perf_class": "strict_hotpath",
      "runtime_impact": "high",
      "replacement_complexity": "low",
      "priority_score": 490
    },
    {
      "symbol": "pthread_rwlock_destroy",
      "module": "pthread_abi",
      "perf_class": "strict_hotpath",
      "runtime_impact": "high",
      "replacement_complexity": "medium",
      "priority_score": 480
    },
    {
      "symbol": "pthread_rwlock_init",
      "module": "pthread_abi",
      "perf_class": "strict_hotpath",
      "runtime_impact": "high",
      "replacement_complexity": "medium",
      "priority_score": 480
    },
    {
      "symbol": "pthread_rwlock_rdlock",
      "module": "pthread_abi",
      "perf_class": "strict_hotpath",
      "runtime_impact": "high",
      "replacement_complexity": "medium",
      "priority_score": 480
    },
    {
      "symbol": "pthread_rwlock_unlock",
      "module": "pthread_abi",
      "perf_class": "strict_hotpath",
      "runtime_impact": "high",
      "replacement_complexity": "medium",
      "priority_score": 480
    },
    {
      "symbol": "pthread_rwlock_wrlock",
      "module": "pthread_abi",
      "perf_class": "strict_hotpath",
      "runtime_impact": "high",
      "replacement_complexity": "medium",
      "priority_score": 480
    },
    {
      "symbol": "pthread_create",
      "module": "pthread_abi",
      "perf_class": "strict_hotpath",
      "runtime_impact": "high",
      "replacement_complexity": "high",
      "priority_score": 470
    },
    {
      "symbol": "pthread_detach",
      "module": "pthread_abi",
      "perf_class": "strict_hotpath",
      "runtime_impact": "high",
      "replacement_complexity": "high",
      "priority_score": 470
    },
    {
      "symbol": "pthread_join",
      "module": "pthread_abi",
      "perf_class": "strict_hotpath",
      "runtime_impact": "high",
      "replacement_complexity": "high",
      "priority_score": 470
    },
    {
      "symbol": "dlclose",
      "module": "dlfcn_abi",
      "perf_class": "coldpath",
      "runtime_impact": "low",
      "replacement_complexity": "medium",
      "priority_score": 80
    },
    {
      "symbol": "dlerror",
      "module": "dlfcn_abi",
      "perf_class": "coldpath",
      "runtime_impact": "low",
      "replacement_complexity": "medium",
      "priority_score": 80
    },
    {
      "symbol": "dlopen",
      "module": "dlfcn_abi",
      "perf_class": "coldpath",
      "runtime_impact": "low",
      "replacement_complexity": "medium",
      "priority_score": 80
    },
    {
      "symbol": "dlsym",
      "module": "dlfcn_abi",
      "perf_class": "coldpath",
      "runtime_impact": "low",
      "replacement_complexity": "medium",
      "priority_score": 80
    },
    {
      "symbol": "fclose",
      "module": "stdio_abi",
      "perf_class": "coldpath",
      "runtime_impact": "low",
      "replacement_complexity": "high",
      "priority_score": 70
    },
    {
      "symbol": "fgets",
      "module": "stdio_abi",
      "perf_class": "coldpath",
      "runtime_impact": "low",
      "replacement_complexity": "high",
      "priority_score": 70
    },
    {
      "symbol": "fopen",
      "module": "stdio_abi",
      "perf_class": "coldpath",
      "runtime_impact": "low",
      "replacement_complexity": "high",
      "priority_score": 70
    },
    {
      "symbol": "fprintf",
      "module": "stdio_abi",
      "perf_class": "coldpath",
      "runtime_impact": "low",
      "replacement_complexity": "high",
      "priority_score": 70
    },
    {
      "symbol": "fputs",
      "module": "stdio_abi",
      "perf_class": "coldpath",
      "runtime_impact": "low",
      "replacement_complexity": "high",
      "priority_score": 70
    },
    {
      "symbol": "fread",
      "module": "stdio_abi",
      "perf_class": "coldpath",
      "runtime_impact": "low",
      "replacement_complexity": "high",
      "priority_score": 70
    },
    {
      "symbol": "fseek",
      "module": "stdio_abi",
      "perf_class": "coldpath",
      "runtime_impact": "low",
      "replacement_complexity": "high",
      "priority_score": 70
    },
    {
      "symbol": "ftell",
      "module": "stdio_abi",
      "perf_class": "coldpath",
      "runtime_impact": "low",
      "replacement_complexity": "high",
      "priority_score": 70
    },
    {
      "symbol": "fwrite",
      "module": "stdio_abi",
      "perf_class": "coldpath",
      "runtime_impact": "low",
      "replacement_complexity": "high",
      "priority_score": 70
    },
    {
      "symbol": "perror",
      "module": "stdio_abi",
      "perf_class": "coldpath",
      "runtime_impact": "low",
      "replacement_complexity": "high",
      "priority_score": 70
    },
    {
      "symbol": "printf",
      "module": "stdio_abi",
      "perf_class": "coldpath",
      "runtime_impact": "low",
      "replacement_complexity": "high",
      "priority_score": 70
    },
    {
      "symbol": "puts",
      "module": "stdio_abi",
      "perf_class": "coldpath",
      "runtime_impact": "low",
      "replacement_complexity": "high",
      "priority_score": 70
    },
    {
      "symbol": "setbuf",
      "module": "stdio_abi",
      "perf_class": "coldpath",
      "runtime_impact": "low",
      "replacement_complexity": "high",
      "priority_score": 70
    },
    {
      "symbol": "setvbuf",
      "module": "stdio_abi",
      "perf_class": "coldpath",
      "runtime_impact": "low",
      "replacement_complexity": "high",
      "priority_score": 70
    },
    {
      "symbol": "snprintf",
      "module": "stdio_abi",
      "perf_class": "coldpath",
      "runtime_impact": "low",
      "replacement_complexity": "high",
      "priority_score": 70
    },
    {
      "symbol": "sprintf",
      "module": "stdio_abi",
      "perf_class": "coldpath",
      "runtime_impact": "low",
      "replacement_complexity": "high",
      "priority_score": 70
    }
  ],
  "decommission_waves": [
    {
      "wave": 1,
      "wave_id": "pthread-foundation",
      "title": "Pthread foundation primitives (low complexity)",
      "depends_on": [],
      "symbols": [
        "pthread_equal",
        "pthread_self"
      ],
      "rationale": "Low-complexity, high-impact thread identity calls unblock later synchronization work.",
      "rollback_strategy": "Revert to host passthrough for foundation symbols only; keep remaining waves untouched."
    },
    {
      "wave": 2,
      "wave_id": "pthread-synchronization",
      "title": "Pthread condvar/rwlock synchronization surface",
      "depends_on": [
        "pthread-foundation"
      ],
      "symbols": [
        "pthread_rwlock_destroy",
        "pthread_rwlock_init",
        "pthread_rwlock_rdlock",
        "pthread_rwlock_unlock",
        "pthread_rwlock_wrlock"
      ],
      "rationale": "Synchronization primitives carry strict-hotpath impact with bounded state-machine scope.",
      "rollback_strategy": "Rollback to host-backed cond/rwlock while retaining foundation replacements."
    },
    {
      "wave": 3,
      "wave_id": "pthread-lifecycle",
      "title": "Pthread lifecycle operations (create/join/detach)",
      "depends_on": [
        "pthread-synchronization"
      ],
      "symbols": [
        "pthread_create",
        "pthread_detach",
        "pthread_join"
      ],
      "rationale": "Lifecycle transitions are highest complexity and depend on prior synchronization correctness.",
      "rollback_strategy": "Disable native lifecycle path behind routing flag and fall back to host calls."
    },
    {
      "wave": 4,
      "wave_id": "loader-boundary",
      "title": "dlfcn boundary migration",
      "depends_on": [
        "pthread-foundation"
      ],
      "symbols": [
        "dlclose",
        "dlerror",
        "dlopen",
        "dlsym"
      ],
      "rationale": "Loader boundary is coldpath but security-sensitive; migrate after core thread identity stability.",
      "rollback_strategy": "Re-enable host dlfcn call-through via module-scoped routing switch."
    },
    {
      "wave": 5,
      "wave_id": "stdio-surface",
      "title": "stdio callthrough surface consolidation",
      "depends_on": [
        "pthread-lifecycle",
        "loader-boundary"
      ],
      "symbols": [
        "fclose",
        "fgets",
        "fopen",
        "fprintf",
        "fputs",
        "fread",
        "fseek",
        "ftell",
        "fwrite",
        "perror",
        "printf",
        "puts",
        "setbuf",
        "setvbuf",
        "snprintf",
        "sprintf"
      ],
      "rationale": "Largest callthrough surface; schedule last to avoid masking independent high-risk migrations.",
      "rollback_strategy": "Rollback by restoring stdio family call-through while keeping completed non-stdio waves."
    }
  ],
  "summary": {
    "module_count": 3,
    "symbol_count": 30,
    "strict_hotpath_count": 10,
    "coldpath_count": 20,
    "wave_count": 5
  }
}
