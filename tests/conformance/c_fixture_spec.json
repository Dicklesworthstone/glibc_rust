{
  "schema_version": 1,
  "bead": "bd-3jh",
  "description": "C fixture suite specification for frankenlibc LD_PRELOAD integration testing. Defines required fixtures, covered APIs, compilation requirements, and execution modes.",
  "fixtures": [
    {
      "id": "fixture_malloc",
      "source": "tests/integration/fixture_malloc.c",
      "description": "Heap allocation: malloc, free, calloc, realloc.",
      "covered_symbols": ["malloc", "free", "calloc", "realloc", "memset"],
      "covered_modules": ["malloc_abi", "string_abi"],
      "tests": 6,
      "compile_flags": ["-O2", "-Wall", "-Wextra"],
      "link_flags": []
    },
    {
      "id": "fixture_string",
      "source": "tests/integration/fixture_string.c",
      "description": "String/memory operations: memcpy, memmove, memset, strlen, strcmp.",
      "covered_symbols": ["memcpy", "memmove", "memset", "strlen", "strcmp", "memcmp"],
      "covered_modules": ["string_abi"],
      "tests": 7,
      "compile_flags": ["-O2", "-Wall", "-Wextra"],
      "link_flags": []
    },
    {
      "id": "fixture_io",
      "source": "tests/integration/fixture_io.c",
      "description": "File I/O: open, read, write, close, lseek, pipe, mkstemp.",
      "covered_symbols": ["open", "read", "write", "close", "lseek", "pipe", "unlink"],
      "covered_modules": ["unistd_abi"],
      "tests": 5,
      "compile_flags": ["-O2", "-Wall", "-Wextra"],
      "link_flags": []
    },
    {
      "id": "fixture_pthread",
      "source": "tests/integration/fixture_pthread.c",
      "description": "Threading: pthread_mutex_init/destroy/lock/unlock/trylock, pthread_create/join, pthread_self/equal.",
      "covered_symbols": ["pthread_mutex_init", "pthread_mutex_destroy", "pthread_mutex_lock", "pthread_mutex_unlock", "pthread_mutex_trylock", "pthread_create", "pthread_join", "pthread_self", "pthread_equal"],
      "covered_modules": ["pthread_abi"],
      "tests": 5,
      "compile_flags": ["-O2", "-Wall", "-Wextra"],
      "link_flags": ["-pthread"]
    },
    {
      "id": "fixture_startup",
      "source": "tests/integration/fixture_startup.c",
      "description": "Controlled startup bootstrap path: __libc_start_main callback flow and argument validation.",
      "covered_symbols": ["__frankenlibc_startup_phase0"],
      "covered_modules": ["startup_abi"],
      "tests": 2,
      "compile_flags": ["-O2", "-Wall", "-Wextra"],
      "link_flags": []
    }
  ],
  "execution": {
    "modes": ["strict", "hardened"],
    "env_var": "FRANKENLIBC_MODE",
    "preload_env": "LD_PRELOAD",
    "library": "libfrankenlibc_abi.so",
    "timeout_seconds": 10,
    "runner_script": "scripts/c_fixture_suite.sh",
    "output_dir": "target/c_fixture_suite/"
  },
  "coverage_summary": {
    "total_fixtures": 5,
    "total_tests": 25,
    "covered_symbols": 27,
    "covered_modules": ["malloc_abi", "string_abi", "unistd_abi", "pthread_abi", "startup_abi"],
    "required_by_acceptance": ["malloc", "free", "realloc", "memcpy", "memmove", "strlen", "read", "write", "open", "close", "pthread_mutex_lock", "pthread_mutex_unlock", "pthread_mutex_init", "pthread_mutex_destroy", "pthread_mutex_trylock"]
  },
  "summary": {
    "total_fixtures": 5,
    "total_tests": 25,
    "modules_covered": 5,
    "symbols_covered": 27,
    "execution_modes": 2
  }
}
